<!DOCTYPE html>
<html lang="en"><head>
<script src="lecture-8-cfa-theory_files/libs/clipboard/clipboard.min.js"></script>
<script src="lecture-8-cfa-theory_files/libs/quarto-html/tabby.min.js"></script>
<script src="lecture-8-cfa-theory_files/libs/quarto-html/popper.min.js"></script>
<script src="lecture-8-cfa-theory_files/libs/quarto-html/tippy.umd.min.js"></script>
<link href="lecture-8-cfa-theory_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="lecture-8-cfa-theory_files/libs/quarto-html/quarto-html.min.css" rel="stylesheet" data-mode="light">
<link href="lecture-8-cfa-theory_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.1.113">

  <title>Confirmatory Factor Analysis</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="lecture-8-cfa-theory_files/libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="lecture-8-cfa-theory_files/libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: 1;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1.6em;
      vertical-align: middle;
    }
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      { color: #003b4f; background-color: #f1f3f5; }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span { color: #003b4f; } /* Normal */
    code span.al { color: #ad0000; } /* Alert */
    code span.an { color: #5e5e5e; } /* Annotation */
    code span.at { color: #657422; } /* Attribute */
    code span.bn { color: #ad0000; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #003b4f; } /* ControlFlow */
    code span.ch { color: #20794d; } /* Char */
    code span.cn { color: #8f5902; } /* Constant */
    code span.co { color: #5e5e5e; } /* Comment */
    code span.cv { color: #5e5e5e; font-style: italic; } /* CommentVar */
    code span.do { color: #5e5e5e; font-style: italic; } /* Documentation */
    code span.dt { color: #ad0000; } /* DataType */
    code span.dv { color: #ad0000; } /* DecVal */
    code span.er { color: #ad0000; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #ad0000; } /* Float */
    code span.fu { color: #4758ab; } /* Function */
    code span.im { color: #00769e; } /* Import */
    code span.in { color: #5e5e5e; } /* Information */
    code span.kw { color: #003b4f; } /* Keyword */
    code span.op { color: #5e5e5e; } /* Operator */
    code span.ot { color: #003b4f; } /* Other */
    code span.pp { color: #ad0000; } /* Preprocessor */
    code span.sc { color: #5e5e5e; } /* SpecialChar */
    code span.ss { color: #20794d; } /* SpecialString */
    code span.st { color: #20794d; } /* String */
    code span.va { color: #111111; } /* Variable */
    code span.vs { color: #20794d; } /* VerbatimString */
    code span.wa { color: #5e5e5e; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="lecture-8-cfa-theory_files/libs/revealjs/dist/theme/quarto.css" id="theme">
  <link rel="stylesheet" href="psych-lecture-style.css">
  <link href="lecture-8-cfa-theory_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="lecture-8-cfa-theory_files/libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="lecture-8-cfa-theory_files/libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="lecture-8-cfa-theory_files/libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">

  .callout {
    margin-top: 1em;
    margin-bottom: 1em;  
    border-radius: .25rem;
  }

  .callout.callout-style-simple { 
    padding: 0em 0.5em;
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
    display: flex;
  }

  .callout.callout-style-default {
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
  }

  .callout .callout-body-container {
    flex-grow: 1;
  }

  .callout.callout-style-simple .callout-body {
    font-size: 1rem;
    font-weight: 400;
  }

  .callout.callout-style-default .callout-body {
    font-size: 0.9rem;
    font-weight: 400;
  }

  .callout.callout-captioned.callout-style-simple .callout-body {
    margin-top: 0.2em;
  }

  .callout:not(.callout-captioned) .callout-body {
      display: flex;
  }

  .callout:not(.no-icon).callout-captioned.callout-style-simple .callout-content {
    padding-left: 1.6em;
  }

  .callout.callout-captioned .callout-header {
    padding-top: 0.2em;
    margin-bottom: -0.2em;
  }

  .callout.callout-captioned .callout-caption  p {
    margin-top: 0.5em;
    margin-bottom: 0.5em;
  }
    
  .callout.callout-captioned.callout-style-simple .callout-content  p {
    margin-top: 0;
  }

  .callout.callout-captioned.callout-style-default .callout-content  p {
    margin-top: 0.7em;
  }

  .callout.callout-style-simple div.callout-caption {
    border-bottom: none;
    font-size: .9rem;
    font-weight: 600;
    opacity: 75%;
  }

  .callout.callout-style-default  div.callout-caption {
    border-bottom: none;
    font-weight: 600;
    opacity: 85%;
    font-size: 0.9rem;
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-default div.callout-content {
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-simple .callout-icon::before {
    height: 1rem;
    width: 1rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 1rem 1rem;
  }

  .callout.callout-style-default .callout-icon::before {
    height: 0.9rem;
    width: 0.9rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 0.9rem 0.9rem;
  }

  .callout-caption {
    display: flex
  }
    
  .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  .callout.no-icon::before {
    display: none !important;
  }

  .callout.callout-captioned .callout-body > .callout-content > :last-child {
    margin-bottom: 0.5rem;
  }

  .callout.callout-captioned .callout-icon::before {
    margin-top: .5rem;
    padding-right: .5rem;
  }

  .callout:not(.callout-captioned) .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  /* Callout Types */

  div.callout-note {
    border-left-color: #4582ec !important;
  }

  div.callout-note .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEU0lEQVRYCcVXTWhcVRQ+586kSUMMxkyaElstCto2SIhitS5Ek8xUKV2poatCcVHtUlFQk8mbaaziwpWgglJwVaquitBOfhQXFlqlzSJpFSpIYyXNjBNiTCck7x2/8/LeNDOZxDuEkgOXe++553zfefee+/OYLOXFk3+1LLrRdiO81yNqZ6K9cG0P3MeFaMIQjXssE8Z1JzLO9ls20MBZX7oG8w9GxB0goaPrW5aNMp1yOZIa7Wv6o2ykpLtmAPs/vrG14Z+6d4jpbSKuhdcSyq9wGMPXjonwmESXrriLzFGOdDBLB8Y6MNYBu0dRokSygMA/mrun8MGFN3behm6VVAwg4WR3i6FvYK1T7MHo9BK7ydH+1uurECoouk5MPRyVSBrBHMYwVobG2aOXM07sWrn5qgB60rc6mcwIDJtQrnrEr44kmy+UO9r0u9O5/YbkS9juQckLed3DyW2XV/qWBBB3ptvI8EUY3I9p/67OW+g967TNr3Sotn3IuVlfMLVnsBwH4fsnebJvyGm5GeIUA3jljERmrv49SizPYuq+z7c2H/jlGC+Ghhupn/hcapqmcudB9jwJ/3jvnvu6vu5lVzF1fXyZuZZ7U8nRmVzytvT+H3kilYvH09mLWrQdwFSsFEsxFVs5fK7A0g8gMZjbif4ACpKbjv7gNGaD8bUrlk8x+KRflttr22JEMRUbTUwwDQScyzPgedQHZT0xnx7ujw2jfVfExwYHwOsDTjLdJ2ebmeQIlJ7neo41s/DrsL3kl+W2lWvAga0tR3zueGr6GL78M3ifH0rGXrBC2aAR8uYcIA5gwV8zIE8onoh8u0Fca/ciF7j1uOzEnqcIm59sEXoGc0+z6+H45V1CvAvHcD7THztu669cnp+L0okAeIc6zjbM/24LgGM1gZk7jnRu1aQWoU9sfUOuhrmtaPIO3YY1KLLWZaEO5TKUbMY5zx8W9UJ6elpLwKXbsaZ4EFl7B4bMtDv0iRipKoDQT2sNQI9b1utXFdYisi+wzZ/ri/1m7QfDgEuvgUUEIJPq3DhX/5DWNqIXDOweC2wvIR90Oq3lDpdMIgD2r0dXvGdsEW5H6x6HLRJYU7C69VefO1x8Gde1ZFSJLfWS1jbCnhtOPxmpfv2LXOA2Xk2tvnwKKPFuZ/oRmwBwqRQDcKNeVQkYcOjtWVBuM/JuYw5b6isojIkYxyYAFn5K7ZBF10fea52y8QltAg6jnMqNHFBmGkQ1j+U43HMi2xMar1Nv0zGsf1s8nUsmUtPOOrbFIR8bHFDMB5zL13Gmr/kGlCkUzedTzzmzsaJXhYawnA3UmARpiYj5ooJZiUoxFRtK3X6pgNPv+IZVPcnwbOl6f+aBaO1CNvPW9n9LmCp01nuSaTRF2YxHqZ8DYQT6WsXT+RD6eUztwYLZ8rM+rcPxamv1VQzFUkzFXvkiVrySGQgJNvXHJAxiU3/NwiC03rSf05VBaPtu/Z7/B8Yn/w7eguloAAAAAElFTkSuQmCC');
  }

  div.callout-note.callout-style-default .callout-caption {
    background-color: #dae6fb
  }

  div.callout-important {
    border-left-color: #d9534f !important;
  }

  div.callout-important .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEKklEQVRYCcVXTWhcVRS+575MJym48A+hSRFr00ySRQhURRfd2HYjk2SSTokuBCkU2o0LoSKKraKIBTcuFCoidGFD08nkBzdREbpQ1EDNIv8qSGMFUboImMSZd4/f9zJv8ibJMC8xJQfO3HPPPef7zrvvvnvviIkpC9nsw0UttFunbUhpFzFtarSd6WJkStVMw5xyVqYTvkwfzuf/5FgtkVoB0729j1rjXwThS7Vio+Mo6DNnvLfahoZ+i/o32lULuJ3NNiz7q6+pyAUkJaFF6JwaM2lUJlV0MlnQn5aTRbEu0SEqHUa0A4AdiGuB1kFXRfVyg5d87+Dg4DL6m2TLAub60ilj7A1Ec4odSAc8X95sHh7+ZRPCFo6Fnp7HfU/fBng/hi10CjCnWnJjsxvDNxWw0NfV6Rv5GgP3I3jGWXumdTD/3cbEOP2ZbOZp69yniG3FQ9z1jD7bnBu9Fc2tKGC2q+uAJOQHBDRiZX1x36o7fWBs7J9ownbtO+n0/qWkvW7UPIfc37WgT6ZGR++EOJyeQDSb9UB+DZ1G6DdLDzyS+b/kBCYGsYgJbSQHuThGKRcw5xdeQf8YdNHsc6ePXrlSYMBuSIAFTGAtQo+VuALo4BX83N190NWZWbynBjhOHsmNfFWLeL6v+ynsA58zDvvAC8j5PkbOcXCMg2PZFk3q8MjI7WAG/Dp9AwP7jdGBOOQkAvlFUB+irtm16I1Zw9YBcpGTGXYmk3kQIC/Cds55l+iMI3jqhjAuaoe+am2Jw5GT3Nbz3CkE12NavmzN5+erJW7046n/CH1RO/RVa8lBLozXk9uqykkGAyRXLWlLv5jyp4RFsG5vGVzpDLnIjTWgnRy2Rr+tDKvRc7Y8AyZq10jj8DqXdnIRNtFZb+t/ZRtXcDiVnzpqx8mPcDWxgARUqx0W1QB9MeUZiNrV4qP+Ehc+BpNgATsTX8ozYKL2NtFYAHc84fG7ndxUPr+AR/iQSns7uSUufAymwDOb2+NjK27lEFocm/EE2WpyIy/Hi66MWuMKJn8RvxIcj87IM5Vh9663ziW36kR0HNenXuxmfaD8JC7tfKbrhFr7LiZCrMjrzTeGx+PmkosrkNzW94ObzwocJ7A1HokLolY+AvkTiD/q1H0cN48c5EL8Crkttsa/AXQVDmutfyku0E7jShx49XqV3MFK8IryDhYVbj7Sj2P2eBxwcXoe8T8idsKKPRcnZw1b+slFTubwUwhktrfnAt7J++jwQtLZcm3sr9LQrjRzz6cfMv9aLvgmnAGvpoaGLxM4mAEaLV7iAzQ3oU0IvD5x9ix3yF2RAAuYAOO2f7PEFWCXZ4C9Pb2UsgDeVnFSpbFK7/IWu7TPTvBqzbGdCHOJQSxiEjt6IyZmxQyEJHv6xyQsYk//moVFsN2zP6fRImjfq7/n/wFDguUQFNEwugAAAABJRU5ErkJggg==');
  }

  div.callout-important.callout-style-default .callout-caption {
    background-color: #f7dddc
  }

  div.callout-warning {
    border-left-color: #f0ad4e !important;
  }

  div.callout-warning .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAETklEQVRYCeVWW2gcVRg+58yaTUnizqbipZeX4uWhBEniBaoUX1Ioze52t7sRq6APio9V9MEaoWlVsFasRq0gltaAPuxms8lu0gcviE/FFOstVbSIxgcv6SU7EZqmdc7v9+9mJtNks51NTUH84ed889/PP+cmxP+d5FIbMJmNbpREu4WUkiTtCicKny0l1pIKmBzovF2S+hIJHX8iEu3hZJ5lNZGqyRrGSIQpq15AzF28jgpeY6yk6GVdrfFqdrD6Iw+QlB8g0YS2g7dyQmXM/IDhBhT0UCiRf59lfqmmDvzRt6kByV/m4JjtzuaujMUM2c5Z2d6JdKrRb3K2q6mA+oYVz8JnDdKPmmNthzkAk/lN63sYPgevrguc72aZX/L9C6x09GYyxBgCX4NlvyGUHOKELlm5rXeR1kchuChJt4SSwyddZRXgvwMGvYo4QSlk3/zkHD8UHxwVJA6zjZZqP8v8kK8OWLnIZtLyCAJagYC4rTGW/9Pqj92N/c+LUaAj27movwbi19tk/whRCIE7Q9vyI6yvRpftAKVTdUjOW40X3h5OXsKCdmFcx0xlLJoSuQngnrJe7Kcjm4OMq9FlC7CMmScQANuNvjfP3PjGXDBaUQmbp296S5L4DrpbrHN1T87ZVEZVCzg1FF0Ft+dKrlLukI+/c9ENo+TvlTDbYFvuKPtQ9+l052rXrgKoWkDAFnvh0wTOmYn8R5f4k/jN/fZiCM1tQx9jQQ4ANhqG4hiL0qIFTGViG9DKB7GYzgubnpofgYRwO+DFjh0Zin2m4b/97EDkXkc+f6xYAPX0KK2I/7fUQuwzuwo/L3AkcjugPNixC8cHf0FyPjWlItmLxWw4Ou9YsQCr5fijMGoD/zpdRy95HRysyXA74MWOnscpO4j2y3HAVisw85hX5+AFBRSHt4ShfLFkIMXTqyKFc46xdzQM6XbAi702a7sy04J0+feReMFKp5q9esYLCqAZYw/k14E/xcLLsFElaornTuJB0svMuJINy8xkIYuL+xPAlWRceH6+HX7THJ0djLUom46zREu7tTkxwmf/FdOZ/sh6Q8qvEAiHpm4PJ4a/doJe0gH1t+aHRgCzOvBvJedEK5OFE5jpm4AGP2a8Dxe3gGJ/pAutug9Gp6he92CsSsWBaEcxGx0FHytmIpuqGkOpldqNYQK8cSoXvd+xLxXADw0kf6UkJNFtdo5MOgaLjiQOQHcn+A6h5NuL2s0qsC2LOM75PcF3yr5STuBSAcGG+meA14K/CI21HcS4LBT6tv0QAh8Dr5l93AhZzG5ZJ4VxAqdZUEl9z7WJ4aN+svMvwHHL21UKTd1mqvChH7/Za5xzXBBKrUcB0TQ+Ulgkfbi/H/YT5EptrGzsEK7tR1B7ln9BBwckYfMiuSqklSznIuoIIOM42MQO+QnduCoFCI0bpkzjCjddHPN/F+2Yu+sd9bKNpVwHhbS3LluK/0zgfwD0xYI5dXuzlQAAAABJRU5ErkJggg==');
  }

  div.callout-warning.callout-style-default .callout-caption {
    background-color: #fcefdc
  }

  div.callout-tip {
    border-left-color: #02b875 !important;
  }

  div.callout-tip .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAADr0lEQVRYCe1XTWgTQRj9ZjZV8a9SPIkKgj8I1bMHsUWrqYLVg4Ue6v9BwZOxSYsIerFao7UiUryIqJcqgtpimhbBXoSCVxUFe9CTiogUrUp2Pt+3aUI2u5vdNh4dmMzOzHvvezuz8xNFM0mjnbXaNu1MvFWRXkXEyE6aYOYJpdW4IXuA4r0fo8qqSMDBU0v1HJUgVieAXxzCsdE/YJTdFcVIZQNMyhruOMJKXYFoLfIfIvVIMWdsrd+Rpd86ZmyzzjJmLStqRn0v8lzkb4rVIXvnpScOJuAn2ACC65FkPzEdEy4TPWRLJ2h7z4cArXzzaOdKlbOvKKX25Wl00jSnrwVxAg3o4dRxhO13RBSdNvH0xSARv3adTXbBdTf64IWO2vH0LT+cv4GR1DJt+DUItaQogeBX/chhbTBxEiZ6gftlDNXTrvT7co4ub5A6gp9HIcHvzTa46OS5fBeP87Qm0fQkr4FsYgVQ7Qg+ZayaDg9jhg1GkWj8RG6lkeSacrrHgDaxdoBiZPg+NXV/KifMuB6//JmYH4CntVEHy/keA6x4h4CU5oFy8GzrBS18cLJMXcljAKB6INjWsRcuZBWVaS3GDrqB7rdapVIeA+isQ57Eev9eCqzqOa81CY05VLd6SamW2wA2H3SiTbnbSxmzfp7WtKZkqy4mdyAlGx7ennghYf8voqp9cLSgKdqNfa6RdRsAAkPwRuJZNbpByn+RrJi1RXTwdi8RQF6ymDwGMAtZ6TVE+4uoKh+MYkcLsT0Hk8eAienbiGdjJHZTpmNjlbFJNKDVAp2fJlYju6IreQxQ08UJDNYdoLSl6AadO+fFuCQqVMB1NJwPm69T04Wv5WhfcWyfXQB+wXRs1pt+nCknRa0LVzSA/2B+a9+zQJadb7IyyV24YAxKp2Jqs3emZTuNnKxsah+uabKbMk7CbTgJx/zIgQYErIeTKRQ9yD9wxVof5YolPHqaWo7TD6tJlh7jQnK5z2n3+fGdggIOx2kaa2YI9QWarc5Ce1ipNWMKeSG4DysFF52KBmTNMmn5HqCFkwy34rDg05gDwgH3bBi+sgFhN/e8QvRn8kbamCOhgrZ9GJhFDgfcMHzFb6BAtjKpFhzTjwv1KCVuxHvCbsSiEz4CANnj84cwHdFXAbAOJ4LTSAawGWFn5tDhLMYz6nWeU2wJfIhmIJBefcd/A5FWQWGgrWzyORZ3Q6HuV+Jf0Bj+BTX69fm1zWgK7By1YTXchFDORywnfQ7GpzOo6S+qECrsx2ifVQAAAABJRU5ErkJggg==');
  }

  div.callout-tip.callout-style-default .callout-caption {
    background-color: #ccf1e3
  }

  div.callout-caution {
    border-left-color: #fd7e14 !important;
  }

  div.callout-caution .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAACV0lEQVRYCdVWzWoUQRCuqp2ICBLJXgITZL1EfQDBW/bkzUMUD7klD+ATSHBEfAIfQO+iXsWDxJsHL96EHAwhgzlkg8nBg25XWb0zIb0zs9muYYWkoKeru+vn664fBqElyZNuyh167NXJ8Ut8McjbmEraKHkd7uAnAFku+VWdb3reSmRV8PKSLfZ0Gjn3a6Xlcq9YGb6tADjn+lUfTXtVmaZ1KwBIvFI11rRXlWlatwIAAv2asaa9mlB9wwygiDX26qaw1yYPzFXg2N1GgG0FMF8Oj+VIx7E/03lHx8UhvYyNZLN7BwSPgekXXLribw7w5/c8EF+DBK5idvDVYtEEwMeYefjjLAdEyQ3M9nfOkgnPTEkYU+sxMq0BxNR6jExrAI31H1rzvLEfRIdgcv1XEdj6QTQAS2wtstEALLG1yEZ3QhH6oDX7ExBSFEkFINXH98NTrme5IOaaA7kIfiu2L8A3qhH9zRbukdCqdsA98TdElyeMe5BI8Rs2xHRIsoTSSVFfCFCWGPn9XHb4cdobRIWABNf0add9jakDjQJpJ1bTXOJXnnRXHRf+dNL1ZV1MBRCXhMbaHqGI1JkKIL7+i8uffuP6wVQAzO7+qVEbF6NbS0LJureYcWXUUhH66nLR5rYmva+2tjRFtojkM2aD76HEGAD3tPtKM309FJg5j/K682ywcWJ3PASCcycH/22u+Bh7Aa0ehM2Fu4z0SAE81HF9RkB21c5bEn4Dzw+/qNOyXr3DCTQDMBOdhi4nAgiFDGCinIa2owCEChUwD8qzd03PG+qdW/4fDzjUMcE1ZpIAAAAASUVORK5CYII=');
  }

  div.callout-caution.callout-style-default .callout-caption {
    background-color: #ffe5d0
  }

  </style>
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
</head>
<body class="quarto-light">
  <div class="reveal">
    <div class="slides">

<section id="title-slide" class="center">
  <h1 class="title">Confirmatory Factor Analysis</h1>
  <p class="subtitle">In Theory</p>
</section>

<section id="overview" class="slide level2">
<h2>Overview</h2>
<div class="cell">

</div>
<ul>
<li>Introduction to factor analysis</li>
<li>Overview of EFA</li>
<li>Overview of CFA</li>
</ul>
</section>
<section id="what-is-factor-analysis" class="slide level2">
<h2>What is Factor Analysis</h2>
<p><strong>Factor analysis</strong> is a data reduction technique that seeks to explain the covariation among a set of observed variables by positing a (usually) smaller subset of unobserved or latent variables. Any covariation that is not explained by the set of latent variables is contained in an error or uniqueness term for each observed variable.</p>
</section>
<section id="a-brief-history" class="slide level2">
<h2>A Brief History</h2>
<ul>
<li>Charles Spearman (1904) develops factor analysis to test is theory of general intelligence</li>
<li>Louis Thurstone (1930s) expands on Spearman’s work and shows how to extract multiple factors</li>
<li>Joreskog (1960s) introduces a way to obtain maximum likelihood solutions for CFA and LISREL is born</li>
<li>From the 1960s and onward there has been a lot of research on CFA and more general latent variable frameworks</li>
</ul>
</section>
<section id="the-common-factor-model" class="slide level2">
<h2>The Common Factor Model</h2>

<img data-src="lecture-8-cfa-theory_files/figure-revealjs/unnamed-chunk-2-1.png" width="960" class="r-stretch"></section>
<section id="the-statistical-logic-underlying-factor-analysis" class="slide level2">
<h2>The Statistical Logic Underlying Factor Analysis</h2>
<ul>
<li><p>All factor analytic methods (EFA + CFA) try to do one specific thing: <strong>reproduce the observed covariance or correlation structure in one’s observed data</strong>.</p></li>
<li><p>Each factor model you build implies a specific covariance structure, <span class="math inline">\(\mathbf{\Sigma(\Theta)}\)</span>, and its your goal to specify a model that implies a covariance structure that closely matches the covariance structure of your observed data, <span class="math inline">\(\mathbf{S}\)</span>.</p></li>
</ul>
<p><span class="math display">\[min(\mathbf{\Sigma(\Theta)}-\mathbf{S})\]</span></p>
</section>
<section id="implied-equations-for-common-factor-model" class="slide level2">
<h2>Implied Equations for Common Factor Model</h2>
<p><span class="math display">\[X_{1}=\lambda_{1}\xi_{1}+\delta_{1}\]</span></p>
<p><span class="math display">\[X_{2}=\lambda_{2}\xi_{1}+\delta_{2}\]</span></p>
<p><span class="math display">\[X_{p}=\lambda_{p}\xi_{1}+\delta_{p}\]</span></p>
</section>
<section id="model-implied-covariance" class="slide level2">
<h2>Model Implied Covariance</h2>
<p><span class="math display">\[\begin{align}
Cov(X_{p}, X_{p'})&amp;=E[X_{p}X_{p'}]-E[X_{p}]E[X_{p'}]\\
&amp;=E[(\lambda_{p}\xi_{1}+\delta_{p})(\lambda_{p'}\xi_{1}+\delta_{p'})] -E[\lambda_{p}\xi_{1}+\delta_{p}]E[\lambda_{p'}\xi_{1}+\delta_{p'}]\\
&amp;=E[\lambda_{p}\lambda_{p'}\xi_{1}^{2}]-E[\lambda_{p}\xi_{1}]E[\lambda_{p'}\xi_{1}]\\
&amp;=\lambda_{p}\lambda_{p'}(E[\xi_{1}^{2}] - E[\xi_{1}]^{2})\\
&amp;=\lambda_{p}\lambda_{p'}\phi_{1}\\
\end{align}\]</span></p>
</section>
<section id="implied-equations-with-matrix-algebra" class="slide level2">
<h2>Implied Equations with Matrix Algebra</h2>
<p><span class="math display">\[\begin{bmatrix}
X_{1}\\
X_{2}\\
X_{p}\\
\end{bmatrix}_{p\times1}=
\begin{bmatrix}
\lambda_{1}\\
\lambda_{2}\\
\lambda_{p}
\end{bmatrix}_{p \times q}
\begin{bmatrix}
\xi_{1}\\
\end{bmatrix}_{q \times 1} +
\begin{bmatrix}
\delta_{1}\\
\delta_{2}\\
\delta_{p}\\
\end{bmatrix}_{p \times 1}
\]</span></p>
<p><span class="math display">\[\mathbf{x}=\mathbf{\Lambda_{x}}\mathbf{\xi}+\mathbf{\delta} \]</span></p>
</section>
<section id="model-implied-covariance-with-matrix-algebra" class="slide level2">
<h2>Model Implied Covariance with Matrix Algebra</h2>
<p><span class="math display">\[
\begin{align}
E[\mathbf{x}\mathbf{x}']&amp;=E[(\mathbf{\Lambda_{x}}\mathbf{\xi}+\mathbf{\delta})(\mathbf{\Lambda_{x}}\mathbf{\xi}+\mathbf{\delta})^{'}]\\
&amp;=E[\mathbf{\Lambda_{x}}\mathbf{\xi}\mathbf{\xi'}\mathbf{\Lambda_{x}}] + 2E[\mathbf{\Lambda_{x}\xi}\delta']+E[\mathbf{\delta\delta'}]\\
&amp;=\mathbf{\Lambda_{x}}E[\mathbf{\xi\xi'}]\mathbf{\Lambda_{x}} + 2 \mathbf{\Lambda_{x}}E[\mathbf{\xi\delta'}]+E[\mathbf{\delta\delta'}]\\
&amp;=\mathbf{\Lambda_{x}\Phi\Lambda_{x}'}+\mathbf{\Theta_{\delta}}\\
&amp;=\mathbf{\Sigma(\Theta)}\\
\end{align}
\]</span></p>
</section>
<section id="why-do-we-love-factor-analysis" class="slide level2">
<h2>Why do we love factor analysis?</h2>
<ul>
<li>Specifies latent variables</li>
<li>Corrects your measurements for (some) measurement error</li>
</ul>
</section>
<section id="latent-variables-what-are-they" class="slide level2">
<h2>Latent variables: What are they?</h2>
<ul>
<li>Social constructs that exist in the minds of researchers?</li>
<li>Real entities that exist independent of our measurements?</li>
<li>A convenient way to summarize emergent phenomena?</li>
<li>A variable where there is no “sample realization” for some part of the sample?</li>
</ul>
</section>
<section id="measurement-error-where-does-it-go" class="slide level2">
<h2>Measurement Error: Where does it go?</h2>
<ul>
<li>Factor analysis partitions measurement error from observed variance in the theta-delta matrix: <span class="math inline">\(\mathbf{\Theta_{\delta}}\)</span></li>
</ul>
<p><span class="math display">\[\mathbf{S}=\underbrace{\mathbf{\Lambda_{x}\Phi\Lambda_{x}'}}_{\text{Communality}}+ \underbrace{\mathbf{\Theta_{\delta}}}_{\text{Systematic &amp; Random Error}}\]</span></p>
</section>
<section id="factor-analysis-exploratory-vs-confirmatory" class="slide level2">
<h2>Factor Analysis: Exploratory vs Confirmatory</h2>
<ul>
<li>Factor analysis is traditionally separated into two distinct methods:
<ul>
<li>Exploratory Factor Analysis</li>
<li>Confirmatory Factor Analysis</li>
</ul></li>
</ul>
</section>
<section>
<section id="exploratory-factor-analysis" class="title-slide slide level1 center">
<h1>Exploratory Factor Analysis</h1>

</section>
<section id="what-is-efa" class="slide level2">
<h2>What is EFA?</h2>
<ul>
<li><p>EFA is a data driven approach to discover the underlying factor structure of one’s data based on the covariance structure of one’s observed data.</p></li>
<li><p>Similar to CFA, EFA tries to maximize (or minimize) a fit function that compares the model implied covariance matrix to the observed covariance matrix, but <strong>EFA does not place any constraints on which items measure which factors!</strong></p></li>
</ul>
</section>
<section id="researcher-degrees-of-freedom-in-efa" class="slide level2">
<h2>Researcher Degrees of Freedom in EFA</h2>
<ol type="1">
<li>How to estimate model (Factor Extraction Method)</li>
<li>How to determine the number of factors (Factor Retention Method)</li>
<li>Determine if factors should correlate with one another (Factor Rotation Method)</li>
</ol>
</section>
<section id="factor-extraction-in-efa" class="slide level2">
<h2>Factor Extraction in EFA</h2>
<ul>
<li>Factor extraction in EFA refers to the model estimation method:
<ul>
<li>Maximum Likelihood (ML) Estimation (My preferred)</li>
<li>Principal Axis Factoring (PAF)</li>
<li>Variety of least square methods</li>
<li>SO MUCH MORE!</li>
</ul></li>
<li>Like all things, there is no one size fits all solution, but just <strong>do not use Principal Components Analysis!</strong></li>
</ul>
</section>
<section id="factor-retention-in-efa" class="slide level2">
<h2>Factor Retention in EFA</h2>
<ul>
<li>Given the exploratory nature of EFA, the researcher may not know the exact number of factors underlying their data, so they must rely on several heuristic and statistical methods to determine the number:
<ul>
<li>Eigenvalues &gt; 1.0 rule (Kaiser Criterion)</li>
<li>Scree Plot</li>
<li>Parallel Analysis</li>
<li>Very Simple Structure (VSS)</li>
</ul></li>
<li>Overall, you should exercise sound judgment, use all of the above methods, and carefully report what you have done.</li>
</ul>
</section>
<section id="factor-rotation-in-efa" class="slide level2">
<h2>Factor Rotation in EFA</h2>
<ul>
<li><p>The TLDR here is that you can specify that the factors in your model should either correlate (oblique rotation) or not correlate (orthogonal rotation). The rotation method you choose should improve the interpretability of your factor model.</p></li>
<li><p>The rule of thumb here is use an oblique rotation like promax or oblimin because all social and behavioral data tends to be correlated.</p></li>
</ul>
</section>
<section id="efa-example-r-code" class="slide level2">
<h2>EFA Example: R Code</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1"></a><span class="co"># Estimate the sample correlation matrix </span></span>
<span id="cb1-2"><a href="#cb1-2"></a>efa_cor_matrix <span class="ot">&lt;-</span> <span class="fu">cor</span>(efa_data)</span>
<span id="cb1-3"><a href="#cb1-3"></a></span>
<span id="cb1-4"><a href="#cb1-4"></a><span class="co"># Plot the scree plot with the Kaiser Criterion</span></span>
<span id="cb1-5"><a href="#cb1-5"></a>psych<span class="sc">::</span><span class="fu">scree</span>(efa_data, <span class="at">factors =</span> <span class="cn">FALSE</span>)</span>
<span id="cb1-6"><a href="#cb1-6"></a></span>
<span id="cb1-7"><a href="#cb1-7"></a><span class="co"># Determine the % of total variation the components account for</span></span>
<span id="cb1-8"><a href="#cb1-8"></a><span class="fu">eigen</span>(efa_cor_matrix)<span class="sc">$</span>values <span class="sc">/</span> <span class="fu">sum</span>(<span class="fu">eigen</span>(efa_cor_matrix)<span class="sc">$</span>values)</span>
<span id="cb1-9"><a href="#cb1-9"></a></span>
<span id="cb1-10"><a href="#cb1-10"></a><span class="co"># Conduct Parallel Analysis</span></span>
<span id="cb1-11"><a href="#cb1-11"></a>psych<span class="sc">::</span><span class="fu">fa.parallel</span>(</span>
<span id="cb1-12"><a href="#cb1-12"></a>  <span class="at">x =</span> efa_data,</span>
<span id="cb1-13"><a href="#cb1-13"></a>  <span class="at">fa =</span> <span class="st">"pc"</span>,</span>
<span id="cb1-14"><a href="#cb1-14"></a>  <span class="at">fm =</span> <span class="st">"ml"</span></span>
<span id="cb1-15"><a href="#cb1-15"></a>)</span>
<span id="cb1-16"><a href="#cb1-16"></a></span>
<span id="cb1-17"><a href="#cb1-17"></a><span class="co"># Conduct VSS Analysis</span></span>
<span id="cb1-18"><a href="#cb1-18"></a>psych<span class="sc">::</span><span class="fu">vss</span>(</span>
<span id="cb1-19"><a href="#cb1-19"></a>  <span class="at">x =</span> efa_data,</span>
<span id="cb1-20"><a href="#cb1-20"></a>  <span class="at">n =</span> <span class="dv">8</span>,</span>
<span id="cb1-21"><a href="#cb1-21"></a>  <span class="at">rotate =</span> <span class="st">"promax"</span>,</span>
<span id="cb1-22"><a href="#cb1-22"></a>  <span class="at">fm =</span> <span class="st">"ml"</span></span>
<span id="cb1-23"><a href="#cb1-23"></a>)</span>
<span id="cb1-24"><a href="#cb1-24"></a></span>
<span id="cb1-25"><a href="#cb1-25"></a><span class="co"># Estimate the EFA model with 3 factors</span></span>
<span id="cb1-26"><a href="#cb1-26"></a>efa_solution <span class="ot">&lt;-</span> </span>
<span id="cb1-27"><a href="#cb1-27"></a>  psych<span class="sc">::</span><span class="fu">fa</span>(</span>
<span id="cb1-28"><a href="#cb1-28"></a>    <span class="at">r =</span> efa_data,</span>
<span id="cb1-29"><a href="#cb1-29"></a>    <span class="at">nfactors =</span> <span class="dv">3</span>,</span>
<span id="cb1-30"><a href="#cb1-30"></a>    <span class="at">fm =</span> <span class="st">"ml"</span></span>
<span id="cb1-31"><a href="#cb1-31"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="parallel-analysis" class="slide level2">
<h2>Parallel Analysis</h2>
<div class="cell">

<div class="cell-output cell-output-stdout">
<pre><code>Parallel analysis suggests that the number of factors =  NA  and the number of components =  3 </code></pre>
</div>
</div>
<img data-src="lecture-8-cfa-theory_files/figure-revealjs/unnamed-chunk-4-1.png" width="960" class="r-stretch"></section>
<section id="very-simple-structure" class="slide level2 scrollable">
<h2>Very Simple Structure</h2>
<div class="cell">

<div class="cell-output cell-output-stdout">
<pre><code>
Very Simple Structure
Call: psych::vss(x = efa_data, n = 8, rotate = "promax", fm = "ml")
VSS complexity 1 achieves a maximimum of 0.77  with  1  factors
VSS complexity 2 achieves a maximimum of 0.66  with  2  factors

The Velicer MAP achieves a minimum of 0.02  with  3  factors 
BIC achieves a minimum of  -332.86  with  3  factors
Sample Size adjusted BIC achieves a minimum of  -132.89  with  3  factors

Statistics by number of factors 
  vss1 vss2   map dof chisq     prob sqresid  fit RMSEA  BIC SABIC complex
1 0.77 0.00 0.035  90 906.5 4.4e-135     9.2 0.77 0.135  347   633     1.0
2 0.66 0.66 0.025  76 363.3  4.6e-39    13.3 0.66 0.087 -109   132     1.0
3 0.60 0.63 0.020  63  58.7  6.3e-01    14.2 0.64 0.000 -333  -133     1.0
4 0.60 0.64 0.033  51  39.4  8.8e-01    13.7 0.65 0.000 -278  -116     1.1
5 0.60 0.62 0.048  40  20.9  9.9e-01    13.9 0.64 0.000 -228  -101     1.2
6 0.54 0.59 0.063  30  14.9  9.9e-01    15.6 0.60 0.000 -172   -76     1.2
7 0.43 0.56 0.086  21  10.6  9.7e-01    17.0 0.57 0.000 -120   -53     1.2
8 0.43 0.51 0.118  13   4.4  9.9e-01    18.6 0.52 0.000  -76   -35     1.3
  eChisq   SRMR eCRMS eBIC
1 1048.2 0.0999 0.108  489
2  407.9 0.0623 0.073  -64
3   33.7 0.0179 0.023 -358
4   20.1 0.0138 0.020 -297
5   12.2 0.0108 0.017 -236
6    9.9 0.0097 0.018 -177
7    7.3 0.0083 0.019 -123
8    3.2 0.0055 0.016  -78</code></pre>
</div>
</div>
<img data-src="lecture-8-cfa-theory_files/figure-revealjs/unnamed-chunk-5-1.png" width="960" class="r-stretch"></section>
<section id="efa-solution" class="slide level2 scrollable">
<h2>EFA Solution</h2>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>Factor Analysis using method =  ml
Call: psych::fa(r = efa_data, nfactors = 3, fm = "ml")
Standardized loadings (pattern matrix) based upon correlation matrix
         ML1   ML2   ML3   h2   u2 com
LV_1_1  0.63  0.04 -0.09 0.36 0.64 1.0
LV_1_2  0.73 -0.02  0.05 0.56 0.44 1.0
LV_1_3  0.69  0.01 -0.01 0.48 0.52 1.0
LV_1_4  0.65  0.02  0.00 0.44 0.56 1.0
LV_1_5  0.83 -0.01  0.05 0.72 0.28 1.0
LV_2_1  0.01  0.90 -0.01 0.82 0.18 1.0
LV_2_2  0.15  0.61 -0.09 0.42 0.58 1.2
LV_2_3 -0.05  0.39  0.08 0.16 0.84 1.1
LV_2_4 -0.07  0.79  0.05 0.60 0.40 1.0
LV_2_5  0.02  0.73  0.04 0.57 0.43 1.0
LV_3_1 -0.01 -0.05  0.51 0.23 0.77 1.0
LV_3_2 -0.02 -0.01  0.83 0.66 0.34 1.0
LV_3_3 -0.07  0.05  0.39 0.14 0.86 1.1
LV_3_4  0.03  0.07  0.63 0.46 0.54 1.0
LV_3_5  0.08  0.01  0.73 0.62 0.38 1.0

                       ML1  ML2  ML3
SS loadings           2.59 2.55 2.09
Proportion Var        0.17 0.17 0.14
Cumulative Var        0.17 0.34 0.48
Proportion Explained  0.36 0.35 0.29
Cumulative Proportion 0.36 0.71 1.00

 With factor correlations of 
     ML1  ML2  ML3
ML1 1.00 0.52 0.60
ML2 0.52 1.00 0.46
ML3 0.60 0.46 1.00

Mean item complexity =  1
Test of the hypothesis that 3 factors are sufficient.

The degrees of freedom for the null model are  105  and the objective function was  5.81 with Chi Square of  2866.57
The degrees of freedom for the model are 63  and the objective function was  0.12 

The root mean square of the residuals (RMSR) is  0.02 
The df corrected root mean square of the residuals is  0.02 

The harmonic number of observations is  500 with the empirical chi square  33.69  with prob &lt;  1 
The total number of observations was  500  with Likelihood Chi Square =  58.66  with prob &lt;  0.63 

Tucker Lewis Index of factoring reliability =  1.003
RMSEA index =  0  and the 90 % confidence intervals are  0 0.023
BIC =  -332.86
Fit based upon off diagonal values = 1
Measures of factor score adequacy             
                                                   ML1  ML2  ML3
Correlation of (regression) scores with factors   0.93 0.95 0.92
Multiple R square of scores with factors          0.87 0.89 0.84
Minimum correlation of possible factor scores     0.74 0.79 0.68</code></pre>
</div>
</div>
</section></section>
<section>
<section id="confirmatory-factor-analysis" class="title-slide slide level1 center">
<h1>Confirmatory Factor Analysis</h1>

</section>
<section id="what-is-cfa" class="slide level2">
<h2>What is CFA?</h2>
<ul>
<li>CFA can be thought of as theory-driven factor analysis:
<ul>
<li>Researcher knows the number of factors (and their interpretation)</li>
<li>Researcher knows which indicators load onto which factor</li>
<li>Researcher knows (or has an idea) of the error structure</li>
</ul></li>
<li>With CFA a researcher directly specifies the factor model unlike EFA.</li>
</ul>
</section>
<section id="our-population-model" class="slide level2">
<h2>Our Population Model</h2>

<img data-src="lecture-8-cfa-theory_files/figure-revealjs/unnamed-chunk-7-1.png" width="960" class="r-stretch"></section>
<section id="population-equations" class="slide level2">
<h2>Population Equations</h2>
<p><span class="math display">\[
\begin{bmatrix}
X_{11}\\
X_{21}\\
X_{31}\\
\vdots\\
X_{43}\\
X_{53}\\
\end{bmatrix} =
\begin{bmatrix}
\lambda_{11}&amp;0&amp;0\\
\lambda_{21}&amp;0&amp;0\\
\lambda_{31}&amp;0&amp;0\\
\vdots&amp;\vdots&amp;\vdots\\
0&amp;0&amp;\lambda_{43}\\
0&amp;0&amp;\lambda_{53}\\
\end{bmatrix}
\begin{bmatrix}
\xi_{1}\\
\xi_{2}\\
\xi_{3}\\
\end{bmatrix} +
\begin{bmatrix}
\delta_{11}\\
\delta_{21}\\
\delta_{31}\\
\vdots\\
\delta_{43}\\
\delta_{53}\\
\end{bmatrix}
\]</span></p>
</section>
<section id="model-implied-population-covariance" class="slide level2 smaller">
<h2>Model Implied Population Covariance</h2>
<p><span class="math display">\[
\mathbf{S} = \mathbf{\Lambda_{x}\Phi\Lambda_{x}'}+\mathbf{\Theta_{\delta}}
\]</span></p>
<p><span class="math display">\[
\mathbf{\Lambda_{x}\Phi\Lambda_{x}'} =
\begin{bmatrix}
\lambda_{11}&amp;0&amp;0\\
\lambda_{21}&amp;0&amp;0\\
\lambda_{31}&amp;0&amp;0\\
\vdots&amp;\vdots&amp;\vdots\\
0&amp;0&amp;\lambda_{43}\\
0&amp;0&amp;\lambda_{53}\\
\end{bmatrix}
\begin{bmatrix}
\phi^2_{1}&amp;\phi_{1,2}&amp;\phi_{1,3}\\
\phi_{2,1}&amp;\phi^2_{2}&amp;\phi_{2,3}\\
\phi_{3,1}&amp;\phi_{3,2}&amp;\phi^2_{3}\\
\end{bmatrix}
\begin{bmatrix}
\lambda_{11}&amp;\lambda_{21}&amp;\lambda_{31}&amp;\cdots&amp;0\\
0&amp;0&amp;0&amp;\cdots&amp;0\\
0&amp;0&amp;0&amp;\cdots&amp;\lambda_{53}
\end{bmatrix}
\]</span></p>
<p><span class="math display">\[
\mathbf{\Theta_{\delta}} =
\begin{bmatrix}
\Theta_{1}&amp;0&amp;0&amp;\cdots&amp;0\\
0&amp;\Theta_{2}&amp;0&amp;\cdots&amp;0\\
\vdots&amp;\vdots&amp;\vdots&amp;\ddots&amp;\vdots\\
0&amp;0&amp;0&amp;0&amp;\Theta_{15}\\
\end{bmatrix}
\]</span></p>
</section>
<section id="cfa-workflow" class="slide level2">
<h2>CFA Workflow</h2>

<img data-src="lecture-8-img/cfa-workflow.png" class="r-stretch quarto-figure-center"><p class="caption">Hoyle, R. H. (2012). Model specification in structural equation modeling.</p></section>
<section id="model-specification" class="slide level2">
<h2>Model Specification</h2>
<ul>
<li>Model specification is the process of translating your hypotheses and assumptions into a statistical model (Model building!):
<ul>
<li>What form the model will take</li>
<li>What paths should be present among the different variables</li>
<li>Status of the parameters (fixed, free &amp; constrained, free &amp; unconstrained)</li>
</ul></li>
</ul>
</section>
<section id="form-of-the-model" class="slide level2">
<h2>Form of the Model</h2>
<ul>
<li><p>When building a model, you must first think about what form it will take: linear relationships, variables to include, interactions among variables, etc.</p></li>
<li><p>With CFA, the model form is constrained to linear relationships among the manifest and latent variables and only a measurement model is specified. But there are two specific forms to choose from:</p>
<ul>
<li>Reflective Model (Most cases will be this!)</li>
<li>Formative Model</li>
</ul></li>
</ul>
</section>
<section id="model-pathways" class="slide level2">
<h2>Model Pathways</h2>
<ul>
<li>With CFA you get to specify:
<ul>
<li>The number and kinds of latent variables (e.g.&nbsp;method factors vs substantive factors)</li>
<li>Which variables measure which latent variables (although you typically want to restrict a manifest variable to one latent variable).</li>
<li>Which latent variables will correlate with one another.</li>
<li>Which disturbance (uniqueness) terms should correlate with one another.</li>
</ul></li>
</ul>
</section>
<section id="parameter-status" class="slide level2">
<h2>Parameter Status</h2>
<ul>
<li><p>Each pathway you specify in your model is a parameter that needs to be either estimated by an algorithm or specified by the researcher.</p></li>
<li><p>Parameters can be:</p>
<ul>
<li>Fixed by the researcher (set to 0, 1, or any number really)</li>
<li>Estimated and Unconstrained (let the model figure it out)</li>
<li>Estimated and Constrained (let the model figure it out with a little researcher help)</li>
</ul></li>
</ul>
</section>
<section id="the-algebra-ish-behind-model-identification" class="slide level2">
<h2>The Algebra (ish) Behind Model Identification</h2>
<ul>
<li>Find <span class="math inline">\(x\)</span> and <span class="math inline">\(y\)</span>:</li>
</ul>
<p><span class="math display">\[5 = x + y\]</span></p>
<ul>
<li>Find <span class="math inline">\(x\)</span>:</li>
</ul>
<p><span class="math display">\[5 = 1 + x\]</span></p>
</section>
<section id="model-identification" class="slide level2">
<h2>Model Identification</h2>
<ul>
<li><p>Identification focuses on understanding what conclusions could be drawn about the population model if one had unlimited data.</p></li>
<li><p>Identification is about understanding if there is enough information in the observed data, with an infinite sample size, to draw conclusions about the unobserved population model (statistical parameters).</p></li>
<li><p>Identification + Statistical Inference = Inference</p></li>
</ul>
</section>
<section id="model-identification-degrees-of-freedom" class="slide level2 smaller">
<h2>Model Identification: Degrees of Freedom</h2>
<ul>
<li>The amount of information a researcher has available for learning about the population model is equal to the number of unique variances and covariances in one’s observed covariance matrix–it has nothing to do with the sample size of one’s data:</li>
</ul>
<p><span class="math display">\[\frac{p(p+1)}{2}=\text{# of variances and distinct covariances}\]</span></p>
<ul>
<li><p>The minimal amount of information required for learning about the population model is equal to the number of freely estimated parameters (12 factor loadings, 6 covariances + variances, 15 error variances)</p></li>
<li><p><strong>Model Degrees of Freedom = Known Information - Number of Estimated Parameters</strong></p></li>
</ul>
</section>
<section id="identifying-the-latent-variables" class="slide level2">
<h2>Identifying the Latent Variables</h2>
<ul>
<li>Because latent variables are not observable in our data, we need to determine the scale (metric) of the latent variable. We can do this in one of two ways:
<ul>
<li>For each latent variable, fix one factor loadings equal to 1</li>
<li>For each latent variable, fix its variance to 1</li>
</ul></li>
</ul>
</section>
<section id="is-your-model-identified" class="slide level2">
<h2>Is your model identified?</h2>
<ul>
<li>Depending on the observed information you have available your model will be:
<ul>
<li>Underidentified (Negative Degrees of Freedom)</li>
<li>Just Identified (0 Degrees of Freedom)</li>
<li>Overidentified (Greater than 0 Degrees of Freedom)</li>
</ul></li>
<li>You want your model to be overidentified!</li>
</ul>
</section>
<section id="identification-conditions" class="slide level2">
<h2>Identification Conditions</h2>
<ul>
<li><p>To ensure your model is identified, you need to have at least 0 degrees of freedom, but it is much better to have more than 0!</p></li>
<li><p>A sufficient condition for model identification is to have three indicators for each latent variable (but more indicators is (mostly) better!).</p></li>
<li><p>Think of a unidimensional factor model: how many knowns and unknowns?</p></li>
</ul>
</section>
<section id="empirical-underindentification" class="slide level2">
<h2>Empirical Underindentification</h2>
<ul>
<li><p>Because identification is not hard enough already, we also need to worry about empirical underidentification, which occurs when the amount of observed information we theoretically have, <span class="math inline">\(\frac{p(p+1)}{2}\)</span>, is greater than the information contained in our actual covariance matrix.</p></li>
<li><p>Empirical underidentification occurs for a variety of reasons:</p>
<ul>
<li>Weak to no correlation (covariation) between variables that have model implied correlations</li>
<li>Multicollinearity</li>
</ul></li>
</ul>
</section>
<section id="specifying-your-model-in-lavaan" class="slide level2 scrollable">
<h2>Specifying Your Model in lavaan</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1"></a><span class="co"># Write the model syntax</span></span>
<span id="cb5-2"><a href="#cb5-2"></a>target_model_syntax <span class="ot">&lt;-</span> <span class="st">"</span></span>
<span id="cb5-3"><a href="#cb5-3"></a></span>
<span id="cb5-4"><a href="#cb5-4"></a><span class="st"># Specifying that factor 1 is measured by the first five indicator variables</span></span>
<span id="cb5-5"><a href="#cb5-5"></a></span>
<span id="cb5-6"><a href="#cb5-6"></a><span class="st"># The metric of Factor 1 is (by default) identified by setting factor loading LV_1_1 to 1</span></span>
<span id="cb5-7"><a href="#cb5-7"></a><span class="st">factor_1 =~ LV_1_1 + LV_1_2 + LV_1_3 + LV_1_4 + LV_1_5</span></span>
<span id="cb5-8"><a href="#cb5-8"></a><span class="st">factor_2 =~ LV_2_1 + LV_2_2 + LV_2_3 + LV_2_4 + LV_2_5</span></span>
<span id="cb5-9"><a href="#cb5-9"></a><span class="st">factor_3 =~ LV_3_1 + LV_3_2 + LV_3_3 + LV_3_4 + LV_3_5</span></span>
<span id="cb5-10"><a href="#cb5-10"></a></span>
<span id="cb5-11"><a href="#cb5-11"></a><span class="st"># Specifying the factor covariance structure</span></span>
<span id="cb5-12"><a href="#cb5-12"></a></span>
<span id="cb5-13"><a href="#cb5-13"></a><span class="st">factor_1~~factor_1 # Factor variances</span></span>
<span id="cb5-14"><a href="#cb5-14"></a><span class="st">factor_2~~factor_2</span></span>
<span id="cb5-15"><a href="#cb5-15"></a><span class="st">factor_3~~factor_3</span></span>
<span id="cb5-16"><a href="#cb5-16"></a></span>
<span id="cb5-17"><a href="#cb5-17"></a><span class="st">factor_1~~factor_2 # Factor covariances</span></span>
<span id="cb5-18"><a href="#cb5-18"></a><span class="st">factor_1~~factor_3</span></span>
<span id="cb5-19"><a href="#cb5-19"></a><span class="st">factor_2~~factor_3</span></span>
<span id="cb5-20"><a href="#cb5-20"></a><span class="st">"</span></span>
<span id="cb5-21"><a href="#cb5-21"></a></span>
<span id="cb5-22"><a href="#cb5-22"></a>alternative_model_syntax <span class="ot">&lt;-</span> <span class="st">"</span></span>
<span id="cb5-23"><a href="#cb5-23"></a></span>
<span id="cb5-24"><a href="#cb5-24"></a><span class="st"># All of the loadings are freely estimated: NA*LV_P_1</span></span>
<span id="cb5-25"><a href="#cb5-25"></a><span class="st">factor_1 =~ NA*LV_1_1 + LV_1_2 + LV_1_3 + LV_1_4 + LV_1_5</span></span>
<span id="cb5-26"><a href="#cb5-26"></a><span class="st">factor_2 =~ NA*LV_2_1 + LV_2_2 + LV_2_3 + LV_2_4 + LV_2_5</span></span>
<span id="cb5-27"><a href="#cb5-27"></a><span class="st">factor_3 =~ NA*LV_3_1 + LV_3_2 + LV_3_3 + LV_3_4 + LV_3_5</span></span>
<span id="cb5-28"><a href="#cb5-28"></a></span>
<span id="cb5-29"><a href="#cb5-29"></a><span class="st"># Specifying the factor covariance structure</span></span>
<span id="cb5-30"><a href="#cb5-30"></a></span>
<span id="cb5-31"><a href="#cb5-31"></a><span class="st"># Factor metric is identified by fixing the factor variance to 1</span></span>
<span id="cb5-32"><a href="#cb5-32"></a><span class="st">factor_1~~1*factor_1 # Factor variances</span></span>
<span id="cb5-33"><a href="#cb5-33"></a><span class="st">factor_2~~1*factor_2</span></span>
<span id="cb5-34"><a href="#cb5-34"></a><span class="st">factor_3~~1*factor_3</span></span>
<span id="cb5-35"><a href="#cb5-35"></a></span>
<span id="cb5-36"><a href="#cb5-36"></a><span class="st">factor_1~~factor_2 # Factor covariances</span></span>
<span id="cb5-37"><a href="#cb5-37"></a><span class="st">factor_1~~factor_3</span></span>
<span id="cb5-38"><a href="#cb5-38"></a><span class="st">factor_2~~factor_3</span></span>
<span id="cb5-39"><a href="#cb5-39"></a><span class="st">"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="model-estimation" class="slide level2">
<h2>Model Estimation</h2>
<ul>
<li>To estimate any statistical model, we need an estimation method that usually tries to maximize or minimize some discrepancy (cost) function. With CFA, we have a handful of estimation methods to choose from:
<ul>
<li>Maximum Likelihood Estimation (Assumes multivariate normality)</li>
<li>Robust Maximum Likelihood Estimation (Multivariate normality with corrections)</li>
<li>Diagonally Weighted Least-Squares Estimation (Use with categorical data)</li>
</ul></li>
</ul>
</section>
<section id="mle-overview" class="slide level2">
<h2>MLE Overview</h2>
<ul>
<li>Maximum Likelihood Estimation is a method of estimation that seeks to maximize (usually through iterative algorithms) to maximize the data’s likelihood function (or, identically, its log likelihood function). For CFA, MLE assumes the likelihood function is multivariate normal and estimates the parameters by minimizing the following function:</li>
</ul>
<p><span class="math display">\[F_{ML}=\log|\mathbf{\Sigma(\Theta)}|+\text{tr}[\mathbf{S\Sigma(\Theta)^{-1}}]-\log|\mathbf{S}|-p\]</span></p>
</section>
<section id="view-our-cfa-data-.scrollable-true" class="slide level2">
<h2>View our CFA Data {.scrollable = TRUE}</h2>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 15
  LV_1_1 LV_1_2 LV_1_3 LV_1_4 LV_1_5 LV_2_1 LV_2_2 LV_2_3 LV_2_4 LV_2_5 LV_3_1
   &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;
1      1      3      3      4      1      4      7      6      2      2      3
2      3      3      4      2      1      3      5      4      3      2      5
3      2      4      4      2      4      3      6      4      3      3      6
4      2      7      4      4      4      7      7      1      7      7      5
5      3      5      5      3      6      6      6      6      6      6      4
6      4      3      5      4      3      2      5      6      5      3      7
# … with 4 more variables: LV_3_2 &lt;dbl&gt;, LV_3_3 &lt;dbl&gt;, LV_3_4 &lt;dbl&gt;,
#   LV_3_5 &lt;dbl&gt;</code></pre>
</div>
</div>
</section>
<section id="estimate-cfa-model" class="slide level2 scrollable">
<h2>Estimate CFA Model</h2>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1"></a><span class="co"># Write the model syntax</span></span>
<span id="cb7-2"><a href="#cb7-2"></a>target_model_syntax <span class="ot">&lt;-</span> <span class="st">"</span></span>
<span id="cb7-3"><a href="#cb7-3"></a><span class="st">factor_1 =~ LV_1_1 + LV_1_2 + LV_1_3 + LV_1_4 + LV_1_5</span></span>
<span id="cb7-4"><a href="#cb7-4"></a><span class="st">factor_2 =~ LV_2_1 + LV_2_2 + LV_2_3 + LV_2_4 + LV_2_5</span></span>
<span id="cb7-5"><a href="#cb7-5"></a><span class="st">factor_3 =~ LV_3_1 + LV_3_2 + LV_3_3 + LV_3_4 + LV_3_5</span></span>
<span id="cb7-6"><a href="#cb7-6"></a></span>
<span id="cb7-7"><a href="#cb7-7"></a><span class="st">factor_1~~factor_1</span></span>
<span id="cb7-8"><a href="#cb7-8"></a><span class="st">factor_2~~factor_2</span></span>
<span id="cb7-9"><a href="#cb7-9"></a><span class="st">factor_3~~factor_3</span></span>
<span id="cb7-10"><a href="#cb7-10"></a><span class="st">"</span></span>
<span id="cb7-11"><a href="#cb7-11"></a></span>
<span id="cb7-12"><a href="#cb7-12"></a><span class="co"># Estimate your model </span></span>
<span id="cb7-13"><a href="#cb7-13"></a>target_model_results <span class="ot">&lt;-</span> </span>
<span id="cb7-14"><a href="#cb7-14"></a>  lavaan<span class="sc">::</span><span class="fu">cfa</span>(<span class="at">model =</span> target_model_syntax, </span>
<span id="cb7-15"><a href="#cb7-15"></a>              <span class="at">data =</span> cfa_data,</span>
<span id="cb7-16"><a href="#cb7-16"></a>              <span class="at">estimator =</span> <span class="st">"MLM"</span>)</span>
<span id="cb7-17"><a href="#cb7-17"></a></span>
<span id="cb7-18"><a href="#cb7-18"></a><span class="fu">summary</span>(target_model_results, </span>
<span id="cb7-19"><a href="#cb7-19"></a>        <span class="at">standardized =</span> <span class="cn">TRUE</span>,</span>
<span id="cb7-20"><a href="#cb7-20"></a>        <span class="at">fit.measures =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>lavaan 0.6-12 ended normally after 47 iterations

  Estimator                                         ML
  Optimization method                           NLMINB
  Number of model parameters                        33

  Number of observations                           500

Model Test User Model:
                                              Standard      Robust
  Test Statistic                                87.594      89.594
  Degrees of freedom                                87          87
  P-value (Chi-square)                           0.462       0.403
  Scaling correction factor                                  0.978
    Satorra-Bentler correction                                    

Model Test Baseline Model:

  Test statistic                              2696.650    2703.912
  Degrees of freedom                               105         105
  P-value                                        0.000       0.000
  Scaling correction factor                                  0.997

User Model versus Baseline Model:

  Comparative Fit Index (CFI)                    1.000       0.999
  Tucker-Lewis Index (TLI)                       1.000       0.999
                                                                  
  Robust Comparative Fit Index (CFI)                         0.999
  Robust Tucker-Lewis Index (TLI)                            0.999

Loglikelihood and Information Criteria:

  Loglikelihood user model (H0)             -13312.916  -13312.916
  Loglikelihood unrestricted model (H1)     -13269.119  -13269.119
                                                                  
  Akaike (AIC)                               26691.832   26691.832
  Bayesian (BIC)                             26830.915   26830.915
  Sample-size adjusted Bayesian (BIC)        26726.171   26726.171

Root Mean Square Error of Approximation:

  RMSEA                                          0.004       0.008
  90 Percent confidence interval - lower         0.000       0.000
  90 Percent confidence interval - upper         0.025       0.026
  P-value RMSEA &lt;= 0.05                          1.000       1.000
                                                                  
  Robust RMSEA                                               0.008
  90 Percent confidence interval - lower                     0.000
  90 Percent confidence interval - upper                     0.026

Standardized Root Mean Square Residual:

  SRMR                                           0.027       0.027

Parameter Estimates:

  Standard errors                           Robust.sem
  Information                                 Expected
  Information saturated (h1) model          Structured

Latent Variables:
                   Estimate  Std.Err  z-value  P(&gt;|z|)   Std.lv  Std.all
  factor_1 =~                                                           
    LV_1_1            1.000                               1.102    0.623
    LV_1_2            1.209    0.085   14.162    0.000    1.333    0.769
    LV_1_3            0.748    0.059   12.587    0.000    0.825    0.632
    LV_1_4            1.068    0.078   13.617    0.000    1.178    0.666
    LV_1_5            1.477    0.093   15.849    0.000    1.628    0.872
  factor_2 =~                                                           
    LV_2_1            1.000                               1.639    0.878
    LV_2_2            0.655    0.042   15.713    0.000    1.074    0.620
    LV_2_3            0.384    0.060    6.446    0.000    0.629    0.375
    LV_2_4            0.828    0.037   22.223    0.000    1.358    0.768
    LV_2_5            0.819    0.037   22.283    0.000    1.342    0.759
  factor_3 =~                                                           
    LV_3_1            1.000                               0.571    0.431
    LV_3_2            2.205    0.252    8.758    0.000    1.258    0.726
    LV_3_3            0.904    0.179    5.050    0.000    0.516    0.308
    LV_3_4            2.132    0.236    9.021    0.000    1.216    0.688
    LV_3_5            2.578    0.280    9.205    0.000    1.471    0.788

Covariances:
                   Estimate  Std.Err  z-value  P(&gt;|z|)   Std.lv  Std.all
  factor_1 ~~                                                           
    factor_2          0.832    0.101    8.252    0.000    0.461    0.461
    factor_3          0.386    0.059    6.570    0.000    0.614    0.614
  factor_2 ~~                                                           
    factor_3          0.369    0.065    5.690    0.000    0.395    0.395

Variances:
                   Estimate  Std.Err  z-value  P(&gt;|z|)   Std.lv  Std.all
    factor_1          1.215    0.149    8.157    0.000    1.000    1.000
    factor_2          2.687    0.175   15.338    0.000    1.000    1.000
    factor_3          0.326    0.068    4.810    0.000    1.000    1.000
   .LV_1_1            1.912    0.125   15.358    0.000    1.912    0.612
   .LV_1_2            1.224    0.107   11.453    0.000    1.224    0.408
   .LV_1_3            1.020    0.073   13.930    0.000    1.020    0.600
   .LV_1_4            1.741    0.112   15.547    0.000    1.741    0.557
   .LV_1_5            0.837    0.101    8.325    0.000    0.837    0.240
   .LV_2_1            0.800    0.095    8.460    0.000    0.800    0.230
   .LV_2_2            1.847    0.134   13.747    0.000    1.847    0.616
   .LV_2_3            2.412    0.237   10.198    0.000    2.412    0.859
   .LV_2_4            1.284    0.092   13.888    0.000    1.284    0.411
   .LV_2_5            1.326    0.096   13.812    0.000    1.326    0.424
   .LV_3_1            1.428    0.120   11.874    0.000    1.428    0.814
   .LV_3_2            1.417    0.136   10.457    0.000    1.417    0.472
   .LV_3_3            2.541    0.216   11.784    0.000    2.541    0.905
   .LV_3_4            1.648    0.128   12.911    0.000    1.648    0.527
   .LV_3_5            1.324    0.140    9.474    0.000    1.324    0.380</code></pre>
</div>
</div>
</section>
<section id="model-evaluation" class="slide level2">
<h2>Model Evaluation</h2>
<ul>
<li><p>Model evaluation asks the question: How well does model reproduce the observed statistical features of my data such as the covariance matrix.</p></li>
<li><p>Overall goodness of fit</p>
<ul>
<li>Absolute Fit Indices</li>
<li>Parsimony Adjusted Fit Indices</li>
<li>Incremental Fit Indices</li>
</ul></li>
<li><p>Areas of localized strain</p></li>
<li><p>Magnitude &amp; Direction of Parameter Estimates</p></li>
</ul>
</section>
<section id="absolute-fit-indices-chi-square" class="slide level2">
<h2>Absolute Fit Indices: Chi-Square</h2>
<ul>
<li><p>Assuming a lot of things (correct model, multivariate normality, large sample, etc.), <span class="math inline">\((N-1)F_{ML}\)</span> is distributed <span class="math inline">\(\chi^2_{\text{df}}\)</span>.</p>
<ul>
<li>Something to note: <span class="math inline">\(E[\chi^2_{\text{df}}]=\text{df}\)</span></li>
</ul></li>
<li><p>The chi-square tests the null hypothesis: <span class="math inline">\(\mathbf{S}=\mathbf{\Sigma(\Theta)}\)</span>. A significant test indicates that it does not.</p></li>
<li><p>Although it should always be reported, the <span class="math inline">\(\chi^2\)</span> test has some flaws, most notably it is too sensitive to sample size and at large samples it will almost always be significant.</p></li>
</ul>
</section>
<section id="absolute-fit-indices-srmr" class="slide level2">
<h2>Absolute Fit Indices: SRMR</h2>
<ul>
<li><p>Standardized Root Mean Square Residual or SRMR is equal to the square root of the mean squared difference between the observed correlation matrix, <span class="math inline">\(\mathbf{R}\)</span> and the model implied correlation matrix, <span class="math inline">\(\mathbf{R(\Theta)}\)</span>.</p></li>
<li><p>Rule of thumb: SRMR &lt; .08 for a “good” model.</p></li>
</ul>
<p><span class="math display">\[
\begin{bmatrix}
1&amp;.4\\
.4&amp;1
\end{bmatrix} -
\begin{bmatrix}
1&amp;.2\\
.2&amp;1
\end{bmatrix} =
\begin{bmatrix}
0&amp;.2\\
.2&amp;0
\end{bmatrix},
\sqrt{\frac{0^2+0^2+.2^2}{3}}
\]</span></p>
</section>
<section id="parsimony-adjusted-fit-indices-rmsea" class="slide level2">
<h2>Parsimony Adjusted Fit Indices: RMSEA</h2>
<ul>
<li>Root Mean Square Error of Approximation or RMSEA:</li>
</ul>
<p><span class="math display">\[\sqrt{\frac{\frac{\chi^2-\text{df}}{N-1}}{\text{df}}}\]</span></p>
<ul>
<li>Rule of Thumb: RMSEA &lt; .06</li>
</ul>
</section>
<section id="incremental-fit-indices" class="slide level2">
<h2>Incremental Fit Indices</h2>
<ul>
<li>Incremental fit indices compare the fit of your model to some “worst fit” comparison model. Unlike the absolute fit indices, values closer to 1 for the incremental fit indices indicate good fit.
<ul>
<li>Tucker-Lewis Index (TLI or NNFI)</li>
<li>Comparative Fit Index (CFI)</li>
</ul></li>
</ul>
</section>
<section id="tucker-lewis-index" class="slide level2">
<h2>Tucker-Lewis Index</h2>
<ul>
<li>Rule of Thumb: TLI &gt; .95</li>
</ul>
<p><span class="math display">\[\frac{\frac{\chi^2_{0}}{df_0}-\frac{\chi^2_{T}}{df_{T}}}{\frac{\chi^2_0}{df_0}-1}\]</span></p>
</section>
<section id="comparative-fit-index" class="slide level2">
<h2>Comparative Fit Index</h2>
<ul>
<li>Rule of Thumb: CFI &gt; .95</li>
</ul>
<p><span class="math display">\[\frac{\max(\chi^2_{0}-df_{0},0)-\max(\chi^2_{T}-df_{T},0)}{\max(\chi^2_{0}-df_{0},0)}\]</span></p>
</section>
<section id="localized-strain" class="slide level2">
<h2>Localized Strain</h2>
<ul>
<li><p>The previous indices all deal with global model fit. The indices may indicate your model fits well overall, but could miss areas where your model is performing poorly.</p></li>
<li><p>Examine the residual correlation matrix and look at modification indices to determine if there are certain parameters that are not being estimated well.</p></li>
<li><p>Use sound substantive and statistical theory as a guide before making changes!</p></li>
</ul>
</section>
<section id="parameter-magnitude-direction" class="slide level2">
<h2>Parameter Magnitude &amp; Direction</h2>
<ul>
<li><p>Like all models, you will want to examine each of the parameter estimates and determine if their direction and magnitude corresponds with your hypotheses and theory.</p></li>
<li><p>If you use some version of ML estimation, you will also have significance tests to guide you.</p></li>
</ul>
</section>
<section id="evaluate-global-fit" class="slide level2 scrollable">
<h2>Evaluate Global Fit</h2>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1"></a><span class="co"># Evaluate your model fit</span></span>
<span id="cb9-2"><a href="#cb9-2"></a>lavaan<span class="sc">::</span><span class="fu">fitmeasures</span>(target_model_results)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>                         npar                          fmin 
                       33.000                         0.088 
                        chisq                            df 
                       87.594                        87.000 
                       pvalue                  chisq.scaled 
                        0.462                        89.594 
                    df.scaled                 pvalue.scaled 
                       87.000                         0.403 
         chisq.scaling.factor                baseline.chisq 
                        0.978                      2696.650 
                  baseline.df               baseline.pvalue 
                      105.000                         0.000 
        baseline.chisq.scaled            baseline.df.scaled 
                     2703.912                       105.000 
       baseline.pvalue.scaled baseline.chisq.scaling.factor 
                        0.000                         0.997 
                          cfi                           tli 
                        1.000                         1.000 
                         nnfi                           rfi 
                        1.000                         0.961 
                          nfi                          pnfi 
                        0.968                         0.802 
                          ifi                           rni 
                        1.000                         1.000 
                   cfi.scaled                    tli.scaled 
                        0.999                         0.999 
                   cfi.robust                    tli.robust 
                        0.999                         0.999 
                  nnfi.scaled                   nnfi.robust 
                        0.999                         0.999 
                   rfi.scaled                    nfi.scaled 
                        0.960                         0.967 
                   ifi.scaled                    rni.scaled 
                        0.999                         0.999 
                   rni.robust                          logl 
                        0.999                    -13312.916 
            unrestricted.logl                           aic 
                   -13269.119                     26691.832 
                          bic                        ntotal 
                    26830.915                       500.000 
                         bic2                         rmsea 
                    26726.171                         0.004 
               rmsea.ci.lower                rmsea.ci.upper 
                        0.000                         0.025 
                 rmsea.pvalue                  rmsea.scaled 
                        1.000                         0.008 
        rmsea.ci.lower.scaled         rmsea.ci.upper.scaled 
                        0.000                         0.026 
          rmsea.pvalue.scaled                  rmsea.robust 
                        1.000                         0.008 
        rmsea.ci.lower.robust         rmsea.ci.upper.robust 
                        0.000                         0.026 
          rmsea.pvalue.robust                           rmr 
                           NA                         0.077 
                   rmr_nomean                          srmr 
                        0.077                         0.027 
                 srmr_bentler           srmr_bentler_nomean 
                        0.027                         0.027 
                         crmr                   crmr_nomean 
                        0.029                         0.029 
                   srmr_mplus             srmr_mplus_nomean 
                        0.027                         0.027 
                        cn_05                         cn_01 
                      627.602                       689.351 
                          gfi                          agfi 
                        0.977                         0.968 
                         pgfi                           mfi 
                        0.708                         0.999 
                         ecvi 
                        0.307 </code></pre>
</div>
</div>
</section>
<section id="evaluate-localized-areas-of-strain" class="slide level2 scrollable">
<h2>Evaluate Localized Areas of Strain</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1"></a><span class="co"># Look for localized areas of strain</span></span>
<span id="cb11-2"><a href="#cb11-2"></a>lavaan<span class="sc">::</span><span class="fu">residuals</span>(target_model_results)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>$type
[1] "raw"

$cov
       LV_1_1 LV_1_2 LV_1_3 LV_1_4 LV_1_5 LV_2_1 LV_2_2 LV_2_3 LV_2_4 LV_2_5
LV_1_1  0.000                                                               
LV_1_2 -0.041  0.000                                                        
LV_1_3  0.033 -0.027  0.000                                                 
LV_1_4  0.026 -0.027  0.065  0.000                                          
LV_1_5 -0.037  0.060 -0.042 -0.009  0.000                                   
LV_2_1  0.087  0.036  0.152  0.022 -0.008  0.000                            
LV_2_2  0.019 -0.125  0.070 -0.050 -0.109 -0.002  0.000                     
LV_2_3  0.155  0.098  0.179  0.006  0.005 -0.010  0.103  0.000              
LV_2_4 -0.081 -0.063  0.004 -0.041 -0.044 -0.001 -0.002 -0.010  0.000       
LV_2_5 -0.030  0.082 -0.032 -0.085 -0.049 -0.012  0.019 -0.052  0.026  0.000
LV_3_1  0.143  0.065  0.053 -0.052  0.119 -0.048 -0.030 -0.051 -0.123  0.091
LV_3_2  0.048 -0.180  0.041 -0.068 -0.080 -0.002 -0.107 -0.018 -0.062 -0.116
LV_3_3 -0.019  0.036 -0.005  0.016 -0.051 -0.159 -0.103  0.141 -0.031  0.001
LV_3_4  0.147 -0.160  0.116  0.003 -0.068  0.174  0.007  0.002  0.008  0.216
LV_3_5  0.175 -0.090  0.017 -0.010  0.110  0.028 -0.241  0.076 -0.026  0.031
       LV_3_1 LV_3_2 LV_3_3 LV_3_4 LV_3_5
LV_1_1                                   
LV_1_2                                   
LV_1_3                                   
LV_1_4                                   
LV_1_5                                   
LV_2_1                                   
LV_2_2                                   
LV_2_3                                   
LV_2_4                                   
LV_2_5                                   
LV_3_1  0.000                            
LV_3_2 -0.086  0.000                     
LV_3_3  0.036  0.095  0.000              
LV_3_4 -0.002  0.086 -0.136  0.000       
LV_3_5  0.030 -0.003  0.020 -0.049  0.000</code></pre>
</div>
</div>
</section>
<section id="evaluate-localized-areas-of-strain-1" class="slide level2 scrollable">
<h2>Evaluate Localized Areas of Strain</h2>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1"></a>lavaan<span class="sc">::</span><span class="fu">modificationindices</span>(</span>
<span id="cb13-2"><a href="#cb13-2"></a>  target_model_results, </span>
<span id="cb13-3"><a href="#cb13-3"></a>  <span class="at">sort =</span> <span class="cn">TRUE</span>, </span>
<span id="cb13-4"><a href="#cb13-4"></a>  <span class="at">maximum.number =</span> <span class="dv">10</span></span>
<span id="cb13-5"><a href="#cb13-5"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>         lhs op    rhs    mi    epc sepc.lv sepc.all sepc.nox
83    LV_1_2 ~~ LV_1_5 7.865  0.267   0.267    0.264    0.264
58  factor_3 =~ LV_1_2 5.014 -0.352  -0.201   -0.116   -0.116
143   LV_2_2 ~~ LV_3_5 4.716 -0.189  -0.189   -0.121   -0.121
167   LV_3_2 ~~ LV_3_4 4.016  0.219   0.219    0.143    0.143
158   LV_2_5 ~~ LV_3_2 3.872 -0.148  -0.148   -0.108   -0.108
126   LV_1_5 ~~ LV_3_5 3.835  0.144   0.144    0.137    0.137
133   LV_2_1 ~~ LV_3_3 3.810 -0.164  -0.164   -0.115   -0.115
88    LV_1_2 ~~ LV_2_5 3.739  0.133   0.133    0.104    0.104
57  factor_3 =~ LV_1_1 3.635  0.340   0.194    0.110    0.110
157   LV_2_5 ~~ LV_3_1 3.504  0.129   0.129    0.094    0.094</code></pre>
</div>
</div>
</section>
<section id="using-modification-indices-to-identify-misfit" class="slide level2">
<h2>Using Modification Indices to Identify Misfit</h2>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1"></a><span class="co"># Misspecify model</span></span>
<span id="cb15-2"><a href="#cb15-2"></a>misspec_model_syntax <span class="ot">&lt;-</span> <span class="st">"</span></span>
<span id="cb15-3"><a href="#cb15-3"></a><span class="st">factor_1 =~ LV_1_1 + LV_1_2 + LV_1_3 + LV_1_4 + LV_1_5 + LV_2_1</span></span>
<span id="cb15-4"><a href="#cb15-4"></a><span class="st">factor_2 =~ LV_2_2 + LV_2_3 + LV_2_4 + LV_2_5</span></span>
<span id="cb15-5"><a href="#cb15-5"></a><span class="st">factor_3 =~ LV_3_1 + LV_3_2 + LV_3_3 + LV_3_4 + LV_3_5</span></span>
<span id="cb15-6"><a href="#cb15-6"></a></span>
<span id="cb15-7"><a href="#cb15-7"></a><span class="st">factor_1~~factor_1</span></span>
<span id="cb15-8"><a href="#cb15-8"></a><span class="st">factor_2~~factor_2</span></span>
<span id="cb15-9"><a href="#cb15-9"></a><span class="st">factor_3~~factor_3</span></span>
<span id="cb15-10"><a href="#cb15-10"></a><span class="st">"</span></span>
<span id="cb15-11"><a href="#cb15-11"></a></span>
<span id="cb15-12"><a href="#cb15-12"></a><span class="co"># Estimate your model </span></span>
<span id="cb15-13"><a href="#cb15-13"></a>misspec_model_results <span class="ot">&lt;-</span> </span>
<span id="cb15-14"><a href="#cb15-14"></a>  lavaan<span class="sc">::</span><span class="fu">cfa</span>(<span class="at">model =</span> misspec_model_syntax, </span>
<span id="cb15-15"><a href="#cb15-15"></a>              <span class="at">data =</span> cfa_data,</span>
<span id="cb15-16"><a href="#cb15-16"></a>              <span class="at">estimator =</span> <span class="st">"MLM"</span>)</span>
<span id="cb15-17"><a href="#cb15-17"></a></span>
<span id="cb15-18"><a href="#cb15-18"></a>lavaan<span class="sc">::</span><span class="fu">modificationindices</span>(</span>
<span id="cb15-19"><a href="#cb15-19"></a>  misspec_model_results, </span>
<span id="cb15-20"><a href="#cb15-20"></a>  <span class="at">sort =</span> <span class="cn">TRUE</span>, </span>
<span id="cb15-21"><a href="#cb15-21"></a>  <span class="at">maximum.number =</span> <span class="dv">10</span></span>
<span id="cb15-22"><a href="#cb15-22"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>         lhs op    rhs      mi    epc sepc.lv sepc.all sepc.nox
51  factor_2 =~ LV_2_1 275.876  1.607   1.729    0.926    0.926
129   LV_2_1 ~~ LV_2_4  42.825  0.659   0.659    0.354    0.354
130   LV_2_1 ~~ LV_2_5  34.208  0.588   0.588    0.316    0.316
83    LV_1_2 ~~ LV_1_5  18.493  0.382   0.382    0.355    0.355
127   LV_2_1 ~~ LV_2_2  16.444  0.440   0.440    0.198    0.198
117   LV_1_5 ~~ LV_2_1  16.274 -0.388  -0.388   -0.246   -0.246
50  factor_2 =~ LV_1_5  11.915 -0.259  -0.278   -0.149   -0.149
58  factor_3 =~ LV_1_2   6.502 -0.408  -0.233   -0.135   -0.135
62  factor_3 =~ LV_2_1   4.960  0.463   0.265    0.142    0.142
160   LV_2_5 ~~ LV_3_4   4.942  0.189   0.189    0.130    0.130</code></pre>
</div>
</div>
</section>
<section id="model-respecification" class="slide level2">
<h2>Model Respecification</h2>
<ul>
<li>After you evaluate your model, you may determine that you need to respecify certain parts of the model:
<ul>
<li>Indicator selection &amp; pattern of indicator-factor relationship</li>
<li>Measurement Error Theory (Correlated residuals–be careful here!)</li>
<li>Number of factors</li>
</ul></li>
</ul>
</section>
<section id="model-comparison" class="slide level2">
<h2>Model Comparison</h2>
<ul>
<li>You will always have a “target” theoretical model you are estimating from your data, but you will often also have competing models as well that you would like to test your target model against. To do this, we can rely on:
<ul>
<li>Chi-square Difference Test for nested models</li>
<li>AIC and BIC for non-nested models</li>
</ul></li>
</ul>
</section>
<section id="nested-model-comparison" class="slide level2 smaller">
<h2>Nested Model Comparison</h2>
<ul>
<li><p>A model can be considered nested within another model if its free and unconstrained parameters are a subset of the other model’s free and unconstrained parameters. Think of this like hierarchical regression tests.</p></li>
<li><p>We can use a change-in-chi-square test which is just the restricted models chi-square minus the less restricted model’s chi-square. This difference is chi-square distributed with degrees of freedom equal to the difference in degrees of freedom.</p></li>
</ul>
<p><span class="math display">\[\chi^2_{R}-\chi^2_{U}, \text{df}_{R}-\text{df}_{U}\sim\chi^2_{R-U}\]</span></p>
<ul>
<li>We can test <span class="math inline">\(\chi^2_{R-U}\)</span> using a chi-square distribution with degrees of freedom equal to <span class="math inline">\(\text{df}_{R}-\text{df}_U\)</span>. A significant test indicates that the less restricted model fits the data better than the restricted model and we should prefer the less restricted model. When the test is non-significant, we should use the more restricted model under model parsimony.</li>
</ul>
</section>
<section id="model-comparison-in-lavaan" class="slide level2 scrollable">
<h2>Model Comparison in lavaan</h2>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1"></a><span class="co"># Create a competing model </span></span>
<span id="cb17-2"><a href="#cb17-2"></a>competing_model_syntax <span class="ot">&lt;-</span> <span class="st">"</span></span>
<span id="cb17-3"><a href="#cb17-3"></a></span>
<span id="cb17-4"><a href="#cb17-4"></a><span class="st">factor_1 =~ LV_1_1 + LV_1_2 + LV_1_3 + LV_1_4 + LV_1_5 + LV_2_1 + LV_2_2 + </span></span>
<span id="cb17-5"><a href="#cb17-5"></a><span class="st">            LV_2_3 + LV_2_4 + LV_2_5 + LV_3_1 + LV_3_1 + LV_3_2 + LV_3_3 +</span></span>
<span id="cb17-6"><a href="#cb17-6"></a><span class="st">            LV_3_4 + LV_3_5</span></span>
<span id="cb17-7"><a href="#cb17-7"></a><span class="st">"</span></span>
<span id="cb17-8"><a href="#cb17-8"></a></span>
<span id="cb17-9"><a href="#cb17-9"></a>competing_model <span class="ot">&lt;-</span> lavaan<span class="sc">::</span><span class="fu">cfa</span>(</span>
<span id="cb17-10"><a href="#cb17-10"></a>  <span class="at">model =</span> competing_model_syntax, </span>
<span id="cb17-11"><a href="#cb17-11"></a>  <span class="at">data =</span> cfa_data,</span>
<span id="cb17-12"><a href="#cb17-12"></a>  <span class="at">estimator =</span> <span class="st">"MLM"</span></span>
<span id="cb17-13"><a href="#cb17-13"></a>)</span>
<span id="cb17-14"><a href="#cb17-14"></a></span>
<span id="cb17-15"><a href="#cb17-15"></a>lavaan<span class="sc">::</span><span class="fu">anova</span>(target_model_results, competing_model)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Scaled Chi-Squared Difference Test (method = "satorra.bentler.2001")

lavaan NOTE:
    The "Chisq" column contains standard test statistics, not the
    robust test that should be reported per model. A robust difference
    test is a function of two standard (not robust) statistics.
 
                     Df   AIC   BIC   Chisq Chisq diff Df diff Pr(&gt;Chisq)    
target_model_results 87 26692 26831  87.594                                  
competing_model      90 27572 27699 974.005      543.6       3  &lt; 2.2e-16 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</code></pre>
</div>
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1"></a><span class="co"># The chi-square values that would not have been significant</span></span>
<span id="cb19-2"><a href="#cb19-2"></a><span class="fu">qchisq</span>(.<span class="dv">05</span>, <span class="dv">3</span>, <span class="at">lower.tail =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 7.814728</code></pre>
</div>
</div>
</section>
<section id="readings-for-next-week" class="slide level2">
<h2>Readings for Next Week</h2>
<p>For next week please read chapters 4 &amp; 5 in CFA for Applied Researchers. Feel free to skim chapters 6 through 8, which focus on applications of CFA–we will be talking about some of this next week!</p>
<div class="footer footer-default">

</div>
</section></section>
    </div>
  </div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="lecture-8-cfa-theory_files/libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="lecture-8-cfa-theory_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="lecture-8-cfa-theory_files/libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="lecture-8-cfa-theory_files/libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="lecture-8-cfa-theory_files/libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="lecture-8-cfa-theory_files/libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="lecture-8-cfa-theory_files/libs/revealjs/plugin/notes/notes.js"></script>
  <script src="lecture-8-cfa-theory_files/libs/revealjs/plugin/search/search.js"></script>
  <script src="lecture-8-cfa-theory_files/libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="lecture-8-cfa-theory_files/libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': false,
'smaller': false,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: false,

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'none',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1050,

        height: 700,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    
    <script>
      // htmlwidgets need to know to resize themselves when slides are shown/hidden.
      // Fire the "slideenter" event (handled by htmlwidgets.js) when the current
      // slide changes (different for each slide format).
      (function () {
        function fireSlideChanged(previousSlide, currentSlide) {

          // dispatch for htmlwidgets
          const event = window.document.createEvent("Event");
          event.initEvent("slideenter", true, true);
          window.document.dispatchEvent(event);

          // dispatch for shiny
          if (window.jQuery) {
            if (previousSlide) {
              window.jQuery(previousSlide).trigger("hidden");
            }
            if (currentSlide) {
              window.jQuery(currentSlide).trigger("shown");
            }
          }
        }

        // hookup for reveal
        if (window.Reveal) {
          window.Reveal.addEventListener("slidechanged", function(event) {
            fireSlideChanged(event.previousSlide, event.currentSlide);
          });
        }

        // hookup for slidy
        if (window.w3c_slidy) {
          window.w3c_slidy.add_observer(function (slide_num) {
            // slide_num starts at position 1
            fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);
          });
        }

      })();
    </script>

    <script id="quarto-html-after-body" type="application/javascript">
    window.document.addEventListener("DOMContentLoaded", function (event) {
      const toggleBodyColorMode = (bsSheetEl) => {
        const mode = bsSheetEl.getAttribute("data-mode");
        const bodyEl = window.document.querySelector("body");
        if (mode === "dark") {
          bodyEl.classList.add("quarto-dark");
          bodyEl.classList.remove("quarto-light");
        } else {
          bodyEl.classList.add("quarto-light");
          bodyEl.classList.remove("quarto-dark");
        }
      }
      const toggleBodyColorPrimary = () => {
        const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
        if (bsSheetEl) {
          toggleBodyColorMode(bsSheetEl);
        }
      }
      toggleBodyColorPrimary();  
      const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
      tabsets.forEach(function(tabset) {
        const tabby = new Tabby('#' + tabset.id);
      });
      const clipboard = new window.ClipboardJS('.code-copy-button', {
        target: function(trigger) {
          return trigger.previousElementSibling;
        }
      });
      clipboard.on('success', function(e) {
        // button target
        const button = e.trigger;
        // don't keep focus
        button.blur();
        // flash "checked"
        button.classList.add('code-copy-button-checked');
        var currentTitle = button.getAttribute("title");
        button.setAttribute("title", "Copied!");
        setTimeout(function() {
          button.setAttribute("title", currentTitle);
          button.classList.remove('code-copy-button-checked');
        }, 1000);
        // clear code selection
        e.clearSelection();
      });
      function tippyHover(el, contentFn) {
        const config = {
          allowHTML: true,
          content: contentFn,
          maxWidth: 500,
          delay: 100,
          arrow: false,
          appendTo: function(el) {
              return el.closest('section.slide') || el.parentElement;
          },
          interactive: true,
          interactiveBorder: 10,
          theme: 'quarto-reveal',
          placement: 'bottom-start'
        };
          config['offset'] = [0,0];
          config['maxWidth'] = 700;
        window.tippy(el, config); 
      }
      const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
      for (var i=0; i<noterefs.length; i++) {
        const ref = noterefs[i];
        tippyHover(ref, function() {
          // use id or data attribute instead here
          let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
          try { href = new URL(href).hash; } catch {}
          const id = href.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          return note.innerHTML;
        });
      }
      var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
      for (var i=0; i<bibliorefs.length; i++) {
        const ref = bibliorefs[i];
        const cites = ref.parentNode.getAttribute('data-cites').split(' ');
        tippyHover(ref, function() {
          var popup = window.document.createElement('div');
          cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    });
    </script>
    

</body></html>